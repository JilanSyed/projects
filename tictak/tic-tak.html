<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tic-tak</title>
    <style>
        .table{
            display:block;
            margin: auto;
            width:300px;
            height:320px;
            border: 2px solid black;
        }
        .box{
            width:100px;
            margin: auto;
            height: 100px;
            border:1px solid black;
            background-color:greenyellow;
            text-align: center;
            font-size: 31px;
        }

    </style>
</head>
<body>
    <div class="table">
        <table>
            <tr>
                <td class="box" id="1" onclick="tic('1')"></td>
                <td class="box" id="2" onclick="tic('2')"></td>
                <td class="box" id="3" onclick="tic('3')"></td>
            </tr>
            <tr>
                <td class="box" id="4" onclick="tic('4')"></td>
                <td class="box" id="5" onclick="tic('5')"></td>
                <td class="box" id="6" onclick="tic('6')"></td>
            </tr>
            <tr>
                <td class="box" id="7" onclick="tic('7')"></td>
                <td class="box" id="8" onclick="tic('8')"></td>
                <td class="box" id="9" onclick="tic('9')"></td>
            </tr>
        </table>
        <button onclick="location.reload()">reset</button>
    </div>
    <script>
        var li=[];
        var x=[];
        var o=[];
        var count=1;
        function tic(num){
            if (li.includes(num)){
                alert("select other");
            }else{
                li.push(num);
                console.log(li);
                if(count%2===0){
                    o.push(num);
                    const i=document.createElement('p');
                    const n=document.createTextNode("o");
                    i.appendChild(n);
                    const p=document.getElementById(num);
                    p.appendChild(i);
                    const er=win(...o);
                    if (er===true){
                        alert("O won the match");
                        location.reload();
                    }
                    console.log(o,'o');
                    count++;
                }else{
                    x.push(num);
                    const i=document.createElement('p');
                    const n=document.createTextNode("x");
                    i.appendChild(n);
                    const p=document.getElementById(num);
                    p.appendChild(i);
                    const era=win(...x);
                    if (era===true){
                        alert("x won the match");
                        location.reload();
                    }
                    console.log(x,'x');
                    count++;
                }
            }
            if((count===10)){
                alert("match has been Draw");
                location.reload();
            }
        }
        function win(...q){
            const won=[['1','2','3'],['1','4','7'],['1','5','9'],['2','5','8'],['3','6','9'],['3','5','7'],['4','5','6'],['7','8','9']];
            for(var t=0;t<8;t++){
                var ans=0;
                for(var y=0;y<3;y++){
                    if(q.includes(won[t][y])){
                        ans++;
                        if (ans===3){
                            console.log(won[t]);
                            return true;
                        }
                    }
                }
                
            }
            return false;
        }
    </script>
</body>
</html>